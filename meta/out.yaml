$labels:

# Structural parameters
- &leagues
  [junior, senior]
- &regatta-subjects
  [algbr, geomt, combi]
- &regatta-rounds
  4

# Fluid/delegation lists
- &tourn-fluid-problems
  - ../regatta/problems
  - ../pers-algbr/problems
  - ../pers-geomt/problems
  - ../pers-combi/problems
  - ../team/problems
- &tourn-fluid-complete
  - ../regatta/complete/contained
  - ../pers-algbr/complete/contained
  - ../pers-geomt/complete/contained
  - ../pers-combi/complete/contained
  - ../team/complete/contained
- &tourn-delegate
  - regatta
  - pers-algbr
  - pers-geomt
  - pers-combi
  - team

# Strings and translations
- &junior-name
  Младшая лига
- &senior-name
  Старшая лига
- &algbr-name
  Алгебра и теория чисел
- &geomt-name
  Геометрия
- &combi-name
  Комбинаторика и логика
- &regatta-name
  Регата
- &team-name
  Командная олимпиада
- &round-1-name
  Первый тур
- &round-2-name
  Второй тур
- &round-3-name
  Третий тур
- &round-4-name
  Четвертый тур

- &junior-name-en
  Junior league
- &senior-name-en
  Senior league
- &algbr-name-en
  Algebra and Number Theory
- &geomt-name-en
  Geometry
- &combi-name-en
  Combinatorics and Logic
- &regatta-name-en
  Regatta
- &team-name-en
  Team contest
- &round-1-name-en
  First round
- &round-2-name-en
  Second round
- &round-3-name-en
  Third round
- &round-4-name-en
  Fourth round

$style: [/base, /ru/lang]

archive:
  $delegate:
  - /miscellany
  - /miscellany/problems

miscellany:
  $style: {append: [/miscellany-numeration]}
  $fluid:
  - {verbatim: '\part*{2011}'}
  - /2011/complete
  - {verbatim: '\part*{2012}'}
  - /2012/complete
  - {verbatim: '\part*{2013}'}
  - /2013/complete
  problems:
    $fluid:
    - {verbatim: '\part*{2011}'}
    - /2011/problems
    - {verbatim: '\part*{2012}'}
    - /2012/problems
    - {verbatim: '\part*{2013}'}
    - /2013/problems

# 2011 2011 2011 2011 2011 2011 2011 2011 2011 2011 2011 2011 2011 2011 2011
'2011':
  complete:
    $fluid: *tourn-fluid-complete
  problems:
    $fluid: *tourn-fluid-problems
  $delegate: *tourn-delegate
  $style: {append: [year]}

  pers-algbr:
    $contest:
      name: *algbr-name
      leagues: *leagues
    $style: {append: [/ru/written-postword]}
    junior:
      $contest$league:
        name: *junior-name
        problems: 4
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 4
      $rigid: [[.]]

  pers-geomt:
    $contest:
      name: *geomt-name
      leagues: *leagues
    $style: {append: [/ru/written-postword]}
    junior:
      $contest$league:
        name: *junior-name
        problems: 4
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 4
      $rigid: [[.]]

  pers-combi:
    $contest:
      name: *combi-name
      leagues: *leagues
    $style: {append: [/ru/oral-postword]}
    junior:
      $contest$league:
        name: *junior-name
        problems: 5
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 5
      $rigid: [[.]]

  team:
    $contest:
      name: *team-name
      leagues: *leagues
    $style: {append: [/ru/team-postword]}
    junior:
      $contest$league:
        name: *junior-name
        problems: 8
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 9
      $rigid: [[.]]

  regatta:
    $regatta:
      name: *regatta-name
      leagues: *leagues
    junior:
      $regatta$league:
        name: *junior-name
        subjects: *regatta-subjects
        rounds: *regatta-rounds
      algbr: &2011-regatta-algbr
        $regatta$subject:
          name: *algbr-name
          index: 'a'
      geomt: &2011-regatta-geomt
        $regatta$subject:
          name: *geomt-name
          index: 'b'
      combi: &2011-regatta-combi
        $regatta$subject:
          name: *combi-name
          index: 'c'
      "1": &2011-regatta-1
        $regatta$round:
          name: *round-1-name
          index: '1'
          mark: 4
      "2": &2011-regatta-2
        $regatta$round:
          name: *round-2-name
          index: '2'
          mark: 5
      "3": &2011-regatta-3
        $regatta$round:
          name: *round-3-name
          index: '3'
          mark: 6
      "4": &2011-regatta-4
        $regatta$round:
          name: *round-4-name
          index: '4'
          mark: 5
    senior:
      $regatta$league:
        name: *senior-name
        subjects: *regatta-subjects
        rounds: *regatta-rounds
      algbr: *2011-regatta-algbr
      geomt: *2011-regatta-geomt
      combi: *2011-regatta-combi
      "1": *2011-regatta-1
      "2": *2011-regatta-2
      "3": *2011-regatta-3
      "4": *2011-regatta-4

  en:
    problems:
      $fluid: *tourn-fluid-problems
    $delegate: *tourn-delegate
    $style: [/base, /en/lang, year]

    pers-algbr:
      $contest:
        name: *algbr-name-en
        leagues: *leagues
      $style: {append: [/en/written-postword]}
      junior:
        $contest$league:
          name: *junior-name-en
          problems: 4
        $rigid: [[.]]
      senior:
        $contest$league:
          name: *senior-name-en
          problems: 4
        $rigid: [[.]]

    pers-geomt:
      $contest:
        name: *geomt-name-en
        leagues: *leagues
      $style: {append: [/en/written-postword]}
      junior:
        $contest$league:
          name: *junior-name-en
          problems: 4
        $rigid: [[.]]
      senior:
        $contest$league:
          name: *senior-name-en
          problems: 4
        $rigid: [[.]]

    pers-combi:
      $contest:
        name: *combi-name-en
        leagues: *leagues
      $style: {append: [/en/oral-postword]}
      junior:
        $contest$league:
          name: *junior-name-en
          problems: 5
        $rigid: [[.]]
      senior:
        $contest$league:
          name: *senior-name-en
          problems: 5
        $rigid: [[.]]

    team:
      $contest:
        name: *team-name-en
        leagues: *leagues
      $style: {append: [/en/team-postword]}
      junior:
        $contest$league:
          name: *junior-name-en
          problems: 8
        $rigid: [[.]]
      senior:
        $contest$league:
          name: *senior-name-en
          problems: 9
        $rigid: [[.]]

    regatta:
      $regatta:
        name: *regatta-name-en
        leagues: *leagues
      junior:
        $regatta$league:
          name: *junior-name-en
          subjects: *regatta-subjects
          rounds: *regatta-rounds
        algbr: &2011-regatta-algbr-en
          $regatta$subject:
            name: *algbr-name-en
            index: 'a'
        geomt: &2011-regatta-geomt-en
          $regatta$subject:
            name: *geomt-name-en
            index: 'b'
        combi: &2011-regatta-combi-en
          $regatta$subject:
            name: *combi-name-en
            index: 'c'
        "1": &2011-regatta-1-en
          $regatta$round:
            name: *round-1-name-en
            index: '1'
            mark: 4
        "2": &2011-regatta-2-en
          $regatta$round:
            name: *round-2-name-en
            index: '2'
            mark: 5
        "3": &2011-regatta-3-en
          $regatta$round:
            name: *round-3-name-en
            index: '3'
            mark: 6
        "4": &2011-regatta-4-en
          $regatta$round:
            name: *round-4-name-en
            index: '4'
            mark: 5
      senior:
        $regatta$league:
          name: *senior-name-en
          subjects: *regatta-subjects
          rounds: *regatta-rounds
        algbr: *2011-regatta-algbr-en
        geomt: *2011-regatta-geomt-en
        combi: *2011-regatta-combi-en
        "1": *2011-regatta-1-en
        "2": *2011-regatta-2-en
        "3": *2011-regatta-3-en
        "4": *2011-regatta-4-en


# 2012 2012 2012 2012 2012 2012 2012 2012 2012 2012 2012 2012 2012 2012 2012
'2012':
  problems:
    $fluid: *tourn-fluid-problems
  complete:
    $fluid: *tourn-fluid-complete
  $delegate: *tourn-delegate
  $style: {append: [year]}

  pers-algbr:
    $contest:
      name: *algbr-name
      leagues: *leagues
    junior:
      $contest$league:
        name: *junior-name
        problems: 4
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 4
      $rigid: [[.]]
    $style: {append: [/ru/written-postword]}

  pers-geomt:
    $contest:
      name: *geomt-name
      leagues: *leagues
    junior:
      $contest$league:
        name: *junior-name
        problems: 4
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 4
      $rigid: [[.]]
    $style: {append: [/ru/written-postword]}

  pers-combi:
    $contest:
      name: *combi-name
      leagues: *leagues
    junior:
      $contest$league:
        name: *junior-name
        problems: 5
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 5
      $rigid: [[.]]
    $style: {append: [/ru/oral-postword]}

  team:
    $contest:
      name: *team-name
      leagues: *leagues
    junior:
      $contest$league:
        name: *junior-name
        problems: 10
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 10
      $rigid: [[.]]
    $style: {append: [/ru/team-postword]}

  regatta:
    $regatta:
      name: *regatta-name
      leagues: *leagues
    junior:
      $regatta$league:
        name: *junior-name
        subjects: *regatta-subjects
        rounds: *regatta-rounds
      algbr: &2012-regatta-algbr
        $regatta$subject:
          name: *algbr-name
          index: 'a'
      geomt: &2012-regatta-geomt
        $regatta$subject:
          name: *geomt-name
          index: 'b'
      combi: &2012-regatta-combi
        $regatta$subject:
          name: *combi-name
          index: 'c'
      "1": &2012-regatta-1
        $regatta$round:
          name: *round-1-name
          index: '1'
          mark: 4
      "2": &2012-regatta-2
        $regatta$round:
          name: *round-2-name
          index: '2'
          mark: 5
      "3": &2012-regatta-3
        $regatta$round:
          name: *round-3-name
          index: '3'
          mark: 6
      "4": &2012-regatta-4
        $regatta$round:
          name: *round-4-name
          index: '4'
          mark: 5
    senior:
      $regatta$league:
        name: *senior-name
        subjects: *regatta-subjects
        rounds: *regatta-rounds
      algbr: *2012-regatta-algbr
      geomt: *2012-regatta-geomt
      combi: *2012-regatta-combi
      "1": *2012-regatta-1
      "2": *2012-regatta-2
      "3": *2012-regatta-3
      "4": *2012-regatta-4

# 2013 2013 2013 2013 2013 2013 2013 2013 2013 2013 2013 2013 2013 2013 2013
'2013':
  problems:
    $fluid: *tourn-fluid-problems
  complete:
    $fluid: *tourn-fluid-complete
  $delegate: *tourn-delegate
  $style: {append: [year]}

  pers-algbr:
    $contest:
      name: *algbr-name
      leagues: *leagues
    junior:
      $contest$league:
        name: *junior-name
        problems: 4
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 4
      $rigid: [[.]]
    $style: {append: [/ru/written-postword]}

  pers-geomt:
    $contest:
      name: *geomt-name
      leagues: *leagues
    junior:
      $contest$league:
        name: *junior-name
        problems: 4
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 4
      $rigid: [[.]]
    $style: {append: [/ru/written-postword]}

  pers-combi:
    $contest:
      name: *combi-name
      leagues: *leagues
    junior:
      $contest$league:
        name: *junior-name
        problems: 5
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 5
      $rigid: [[.]]
    $style: {append: [/ru/oral-postword]}

  team:
    $contest:
      name: *team-name
      leagues: *leagues
    junior:
      $contest$league:
        name: *junior-name
        problems: 10
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 10
      $rigid: [[.]]
    $style: {append: [/ru/team-postword]}

  regatta:
    $regatta:
      name: *regatta-name
      leagues: *leagues
    junior:
      $regatta$league:
        name: *junior-name
        subjects: *regatta-subjects
        rounds: *regatta-rounds
      algbr: &2013-regatta-algbr
        $regatta$subject:
          name: *algbr-name
          index: 'a'
      geomt: &2013-regatta-geomt
        $regatta$subject:
          name: *geomt-name
          index: 'b'
      combi: &2013-regatta-combi
        $regatta$subject:
          name: *combi-name
          index: 'c'
      "1": &2013-regatta-1
        $regatta$round:
          name: *round-1-name
          index: '1'
          mark: 4
      "2": &2013-regatta-2
        $regatta$round:
          name: *round-2-name
          index: '2'
          mark: 5
      "3": &2013-regatta-3
        $regatta$round:
          name: *round-3-name
          index: '3'
          mark: 6
      "4": &2013-regatta-4
        $regatta$round:
          name: *round-4-name
          index: '4'
          mark: 5
    senior:
      $regatta$league:
        name: *senior-name
        subjects: *regatta-subjects
        rounds: *regatta-rounds
      algbr: *2013-regatta-algbr
      geomt: *2013-regatta-geomt
      combi: *2013-regatta-combi
      "1": *2013-regatta-1
      "2": *2013-regatta-2
      "3": *2013-regatta-3
      "4": *2013-regatta-4

