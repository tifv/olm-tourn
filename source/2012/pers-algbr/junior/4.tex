Найдите все такие пары натуральных чисел $(a, b)$, что
$a^2$ делится на $b$,
$b^2$ делится на $a$
и $(b + 1)^2$ делится на $a + 1$.

\solution
Обозначим через $d$ наибольший общий делитель чисел $a$ и $b$.
Пусть $a = a_1 d$ и $b = d_1 b$.
Тогда по условию $b_1^2 d^2$ делится на $a_1 d$, откуда
(так как $a_1$ и $b_1$ взаимно просты)
ясно, что $d$ делится на $a_1$.
Аналогично $d$ делится на $b_1$ и, значит, $d = a_1 b_1 k$
(мы еще раз воспользовались взаимной простотой чисел $a_1$ и $b_1$).
Тогда $a = a_1^2 b_1 k$ и $b = b_1^2 a_1 k$.
Подставив эти равенства в последнее условие, получим, что
$b_1^4 a_1^2 k^2 + 2 b_1^2 a_1 k + 1$
делится на $a_1^2 b_1 k + 1$.
Вычтем второе число из первого и сократим на $b_1 k$.
Тогда получаем, что
$b_1^3 a_1^2 k + 2 a_1 b_1 - a_1^2$
делится на $a_1^2 b_1 k + 1$.
Заменим теперь $a_1^2 b_1 k$ на $-1$ в первом слагаемом выражения
$b_1^3 a_1^2 k + 2 a_1 b_1 - a_1^2$ и получим, что $-(a_1 - b_1)^2$ делится на
$a_1^2 b_1 k + 1$.
Теперь отбросим минус у делимого (он не влияет на делимость) и рассмотрим
несколько случаев.
Во-первых, если $a_1 = b_1$, то очевидно $a = b$ и такой случай подходит.
Если $a_1 > b_1$, то имеем неравенства
$a_1^2 b_1 k + 1 > a_1^2 \geq (a_1 - b_1)^2$,
что противоречит делимости.
Тогда остается случай $b_1 > a_1$.
Из неравенства
$b_1^2 > (b_1 - a_1)^2 > a_1^2 b_1$
получаем, что $b_1 > a_1^2$.
По модулю $b_1$ число $(b_1 - a_1)^2$ сравнимо с $a_1^2$,
которое, в свою очередь, меньше, чем $b_1$.
Если записать
$(b_1 - a_1)^2 = t (a_1^2 b_1 k+1)$ и посмореть на это равенство
по модулю $b_1$, а также вспомнить, что $t < b_1$, то можно понять, что
$t = a_1^2$.
Отсюда мы выводим, что $b_1 - 2 a_1 = a_1^4 k$.
Значит $b_1$ делится на $a_1$, откуда (опять же, в силу взаимной простоты)
ясно, что $a_1 = 1$.
Тогда $b_1 = k + 2$ и мы получаем серию решений
$a = k (k + 2)$ и $b = k (k + 2)^2$ для всех натуральных $k$. 

