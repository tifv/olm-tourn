\problem\problemscore{10}
Для натуральных чисел $a_1$, $a_2$, \ldots, $a_r$, больших 1, через
$[a_1, a_2, \ldots, a_r]$ обозначим выражение
\[
    \cfrac{1}{
        a_1 - \cfrac{1}{
            a_2 - \cfrac{1}{
                \ddots - \cfrac{1}{a_r} } } }
.\]
Даны две конечные последовательности
$a_1$, $a_2$, \ldots, $a_n$ и $b_1$, $b_1$, \ldots, $b_m$
натуральных чисел, больших 1, такие, что
\[
    [a_1, a_2, \ldots, a_n] + [b_1, b_2, \ldots, b_m] \geq 1
.\]
Докажите, что найдутся индексы $n_1$ и $m_1$
($1 \leq n_1 \leq n$ и $1 \leq m_1 \leq m$)
такие, что
\[
    [a_1, a_2, \ldots, a_{n_1}] + [b_1, b_2, \ldots, b_{m_1}] = 1
.\]
\solution
Будем доказывать индукцией по $m + n$.
\emph{База.}
Пусть $m = 1$, $n = 1$.
Получаем $a_1^{-1} + b_1^{-1} \geq 1$, причем $a_1, b_1 \geq 2$.
Следовательно, $a_1 = b_1 = 2$, и $n_1 = n = m_1 = m = 1$.
\\
\emph{Переход.}
Если в неравенстве
\begin{equation} \label{2013/ru/team/senior/10:solution:eq:condition}
    [a_1, a_2, \ldots, a_n] + [b_1, b_2, \ldots, b_m] \geq 1
\end{equation}
достигается равенство, то возьмем $n_1 = n$ и $m_1 = m$.
Пусть далее это неравенство строгое.
Заметим, что
\[
    [a_1, a_2, \ldots, a_n] < \frac{1}{a_1 - 1}
.\]
Тогда из \eqref{2013/ru/team/senior/10:solution:eq:condition} получаем, что
$\frac{1}{a_1 - 1} + \frac{1}{b_1 - 1} > 1$, откуда следует, что хотя бы одно
из чисел $a_1$, $b_1$ равно 2.
Без ограничения общности считаем $a_1 = 2$.
Если при этом $b_1 = 2$, то можно взять $n_1 = m_1 = 1$.
Пусть далее $b_1 > 2$.
Если $n = 1$, то $[a_1] = [2] = 1/2$,
а $[b_1, b_2, \ldots, b_m] < \frac{1}{b_1 - 1} = 1/2$,
и такие числа в сумме не превосходят 1.
Противоречие со строгостью неравенства
\eqref{2013/ru/team/senior/10:solution:eq:condition}~---
следовательно, далее считаем $n > 1$.
В этом случае
\begin{equation} \label{2013/ru/team/senior/10:solution:eq:current-statement}
    [2, a_2, \ldots, a_{n_1}] + [b_1, b_2, \ldots, b_{m_1}] = 1
\end{equation}
эквивалентно
\begin{equation} \label{2013/ru/team/senior/10:solution:eq:previous-statement}
    [a_2, \ldots, a_{n_1}] + [b_1 - 1, b_2, \ldots, b_{m_1}] = 1
.\end{equation}
Действительно, пусть $[a_2, \ldots, a_{n_1}] = \alpha$ и
$[b_2, \ldots, b_{m_1}] = \beta$ (для $m_1 = 1$ можно считать $\beta = 0$).
Тогда равенства
\eqref{2013/ru/team/senior/10:solution:eq:current-statement} и
\eqref{2013/ru/team/senior/10:solution:eq:previous-statement}
переписываются соответственно как
\[
    \frac{1}{2 - \alpha} + \frac{1}{b_1 - \beta} = 1
\quad\text{и}\quad
    \alpha + \frac{1}{b_1 - 1 - \beta} = 1
.\]
Домножением на знаменатель и приведением подобных слагаемых несложно убедится,
что это одно и то же условие.
Следовательно, задача о нахождении $n_1$ и $m_1$ в уравнении
\eqref{2013/ru/team/senior/10:solution:eq:current-statement}
сведена к такой же задаче для
\eqref{2013/ru/team/senior/10:solution:eq:previous-statement}.
Последнее возможно по предположению индукции, так как $n$ уменьшилось на 1.
\par
\emph{Другое решение.}
Пусть
\(
    p_n / q_n = [a_1, a_2, \ldots, a_n]
\)
(слева несократимая дробь).
Будем также считать $p_0 / q_0 = 0 / 1$.
Воспользуемся утверждением, полностью аналогичным известному факту из теории
<<обычных>> цепных дробей.
\par
\emph{Лемма.}
Для всех $n > 0$ выполнено $p_n q_{n-1} - q_n p_{n-1} = 1$.
\\
\emph{План доказательства леммы.}
Докажем сначала по индукции рекуррентные соотношения
$p_n = a_n p_{n-1} - p_{n-2}$ и $q_n = a_n q_{n-1} - q_{n-2}$.
Они проверяются для $n = 2$, а переход осуществляется сведением к дробям
\(
    p'_n / q'_n = [a_2, \ldots, a_n]
\) с помощью соотношений $p_n = q'_n$ и $q_n = a_1 q'_n - p'_n$.
Теперь легко доказать утверждение леммы по индукции: база проверяется для $n = 1$,
а переход осуществляется подстановкой указанных рекуррентных соотношений вместо
$p_n$ и $q_n$.
\par
Теперь докажем утверждение задачи.
Пусть
$[a_1, \ldots, a_r] = a / b$, $[b_1, \ldots, b_s] = c / d$,
$a / b + c / d > 1$ и $d \leq b$.
Докажем, что если мы удалим $a_r$, то полученные дроби дадут в сумме
не меньше $1$, откуда будет следовать утверждение задачи.
Заметим, что случай $r = 1$ невозможен, иначе мы получим
$a / b = 1 / a_r$ и
\(
    c / d \leq 1 - 1 / d
\leq
    1 - 1 / b = 1 - a / b
\).
Пусть тогда $p / q = [a_1, \ldots, a_{r-1}]$, и предположим, что
$p / q + c / d < 1$.
Тогда выполнено
\[
    \frac{p}{q} + \frac{c}{d}
\leq
    1 - \frac{1}{q d}
,\quad
    \frac{a}{b} + \frac{c}{d}
\geq
    1 + \frac{1}{b d}
,\]
%$p / q + c / d \leq 1 - 1 / (q d)$,
%$a / b + c / d \geq 1 + 1 / (b d)$,
и $a q - b p = 1$ (по лемме).
Получаем
\[
    \frac{1}{b q} = a / b - p / q
\geq
    \frac{1}{b d} + \frac{1}{q d},
\]
откуда, в частности, $b q < q d$ и $b < d$.
Противоречие.
\endproblem
% $problem-source: >-
%   А.\,Устинов,
%   второе решение нашли Д.\,Креков, С.\,Коротких и А.\,Волостнов
% $problem-source$www: http://mathoverflow.net/questions/144996
