\problem
Найдите все функции $f \colon \mathbb{N} \to \mathbb{N}$ такие, что
\(
    f(n + 1) > \frac{f(n) + f(f(n))}{2}
\)
при всех натуральных $n$. 
\solution
\emph{Ответ:} $f(n) = n$ при $n \leq k$, $f(n) = n + 1$ при $n > k$.
Несложно видеть, что все такие функции при каждом $k = 0, 1, \ldots$ подходят.
\par
Докажем индукцией по~$n$, что $f(x) \geq n$ при всех $x \geq n$.
База $n = 1$ очевидна.
Переход от~$n$ к~$n + 1$.
Пусть $x \geq n + 1$, тогда $2 n \leq f(x - 1) + f(f(x - 1)) < 2f(x)$
(первое неравенство следует из~индукционного предположения для $n$
и~$x - 1 \geq n$), откуда $f(x) > n$, что и~требовалось. 
\par
Таким образом, $f(n) \geq n$.
Тогда $f(f(n)) \geq f(n)$ и~$f(n + 1) > (f(n) + f(n)) / 2 = f(n)$,
то~есть функция $f$ строго возрастает.
Положим $f(n) = n + g(n)$.
Поскольку $f$ строго возрастает, $g$ не~убывает.
Условие задачи переписывается как 
\[
    g(n + 1)
=
    f(n + 1) - n - 1
\geq
    \frac{f(n) + f(f(n)) - 2 n - 1}{2}
=
    g(n) + \frac{g(f(n)) - 1}{2}
\;.\]
Предположим, что $f(n) \geq n + 2$, то~есть $g(n) \geq 2$.
Тогда
\begin{align*}
    g(f(n))
\geq{}&
    g(n + 2)
\geq
    g(n + 1) + \frac{g(f(n + 1)) - 1}{2}
\geq\\\geq{}&
    g(n) + \frac{g(f(n + 1)) + g(f(n))}{2} - 1
>
    g(f(n))
\end{align*}
противоречие.
Итак, функция $g$ принимает только значения $0$ и~$1$ и~не~убывает,
это и~означает, что $f$ имеет требуемый вид.
\endproblem
% $problem-source: Iran 2014
