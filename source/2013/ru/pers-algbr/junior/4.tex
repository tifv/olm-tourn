\problem
Найдите все функции $f \colon \mathbb{N} \to \mathbb{N}$ такие, что
$f(f(n)) + f(n) = 2 n + 6$ при всех $n \in \mathbb{N}$.
\solution
\emph{Ответ:} $f(n) = n + 2$.
Запишем данное нам равенство в виде
\[
    (f(f(n)) - f(n) - 2) + 2 (f(n) - n - 2) = 0
.\]
Пусть нашлось такое натуральное $n$, что $f(n) - n - 2 \neq 0$.
Обозначим эту разность через $k$.
Тогда аналогичное выражение при замене $n$ на $f(n)$ равно $- 2 k$
(это следует из записанного нами равенства).
Таким образом, мы получаем, что если $m = f(f(\ldots f(f(n)) \ldots))$
(функция берется $q$ раз), то $f(m) - m - 2 = (-2)^q k$ или
$f(m) - m = 2 + (-2)^q k$.
Складывая такие равенства для всех $q$ от $0$ до $N$, мы получаем, что
\[
    f(f(\ldots f(f(n)) \ldots)) - n
=
    2 N + 2 - \frac{1}{3} ((-2)^{N+1} - 1) k
.\]
Подбирая подходящим образом $N$, мы сделаем правую часть меньше $(-n)$ и
получим, что значение функции в некоторой точке оказалось отрицательным, что
невозможно.
Значит, ни в какой точке значение функции не может отличаться от $n + 2$.
\endproblem
% $problem-source: Д.\,Максимов
