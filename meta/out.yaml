$labels:

# Structural parameters
- &leagues
  [junior, senior]
- &regatta-subjects
  [algbr, geomt, combi]
- &regatta-rounds
  4

# Fluid/delegation lists
- &tourn-fluid-problems
  - ../regatta/problems
  - ../pers-algbr/problems
  - ../pers-geomt/problems
  - ../pers-combi/problems
  - ../team/problems
- &tourn-fluid-complete
  - ../regatta/complete
  - ../pers-algbr/complete
  - ../pers-geomt/complete
  - ../pers-combi/complete
  - ../team/complete
- &tourn-delegate
  - regatta
  - pers-algbr
  - pers-geomt
  - pers-combi
  - team

# Strings and translations
- &junior-name
  Младшая лига
- &senior-name
  Старшая лига
- &algbr-name
  Алгебра и теория чисел
- &geomt-name
  Геометрия
- &combi-name
  Комбинаторика и логика
- &regatta-name
  Регата
- &team-name
  Командная устная олимпиада
- &round-1-name
  Первый тур
- &round-2-name
  Второй тур
- &round-3-name
  Третий тур
- &round-4-name
  Четвертый тур

$style: [/base]

archive:
  $delegate:
  - /miscellany
  - /miscellany/problems

miscellany:
  $style: {append: [/miscellany-numeration]}
  $fluid:
  - {verbatim: '\part*{2011}'}
  - /2011/complete
  - {verbatim: '\part*{2012}'}
  - /2012/complete
  - {verbatim: '\part*{2013}'}
  - /2013/complete
  problems:
    $fluid:
    - {verbatim: '\part*{2011}'}
    - /2011/problems
    - {verbatim: '\part*{2012}'}
    - /2012/problems
    - {verbatim: '\part*{2013}'}
    - /2013/problems

# 2011 2011 2011 2011 2011 2011 2011 2011 2011 2011 2011 2011 2011 2011 2011
'2011':
  complete:
    $fluid: *tourn-fluid-complete
  problems:
    $fluid: *tourn-fluid-problems
  $delegate: *tourn-delegate
  $style: {append: [year]}

  pers-algbr:
    $contest:
      name: *algbr-name
      leagues: *leagues
    $style: {append: [/written-postword]}
    junior:
      $contest$league:
        name: *junior-name
        problems: 4
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 4
      $rigid: [[.]]

  pers-geomt:
    $contest:
      name: *geomt-name
      leagues: *leagues
    $style: {append: [/written-postword]}
    junior:
      $contest$league:
        name: *junior-name
        problems: 4
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 4
      $rigid: [[.]]

  pers-combi:
    $contest:
      name: *combi-name
      leagues: *leagues
    $style: {append: [/oral-postword]}
    junior:
      $contest$league:
        name: *junior-name
        problems: 5
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 5
      $rigid: [[.]]

  team:
    $contest:
      name: *team-name
      leagues: *leagues
    $style: {append: [/team-postword]}
    junior:
      $contest$league:
        name: *junior-name
        problems: 8
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 9
      $rigid: [[.]]

  regatta:
    $regatta:
      name: *regatta-name
      leagues: *leagues
    junior:
      $regatta$league:
        name: *junior-name
        subjects: *regatta-subjects
        rounds: *regatta-rounds
      algbr: &2011-regatta-algbr
        $regatta$subject:
          name: *algbr-name
          index: 'a'
      geomt: &2011-regatta-geomt
        $regatta$subject:
          name: *geomt-name
          index: 'b'
      combi: &2011-regatta-combi
        $regatta$subject:
          name: *combi-name
          index: 'c'
      "1": &2011-regatta-1
        $regatta$round:
          name: *round-1-name
          index: '1'
          mark: 4
      "2": &2011-regatta-2
        $regatta$round:
          name: *round-2-name
          index: '2'
          mark: 5
      "3": &2011-regatta-3
        $regatta$round:
          name: *round-3-name
          index: '3'
          mark: 6
      "4": &2011-regatta-4
        $regatta$round:
          name: *round-4-name
          index: '4'
          mark: 5
    senior:
      $regatta$league:
        name: *senior-name
        subjects: *regatta-subjects
        rounds: *regatta-rounds
      algbr: *2011-regatta-algbr
      geomt: *2011-regatta-geomt
      combi: *2011-regatta-combi
      "1": *2011-regatta-1
      "2": *2011-regatta-2
      "3": *2011-regatta-3
      "4": *2011-regatta-4


# 2012 2012 2012 2012 2012 2012 2012 2012 2012 2012 2012 2012 2012 2012 2012
'2012':
  problems:
    $fluid: *tourn-fluid-problems
  complete:
    $fluid: *tourn-fluid-complete
  $delegate: *tourn-delegate
  $style: {append: [year]}

  pers-algbr:
    $contest:
      name: *algbr-name
      leagues: *leagues
    junior:
      $contest$league:
        name: *junior-name
        problems: 4
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 4
      $rigid: [[.]]
    $style: {append: [/written-postword]}

  pers-geomt:
    $contest:
      name: *geomt-name
      leagues: *leagues
    junior:
      $contest$league:
        name: *junior-name
        problems: 4
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 4
      $rigid: [[.]]
    $style: {append: [/written-postword]}

  pers-combi:
    $contest:
      name: *combi-name
      leagues: *leagues
    junior:
      $contest$league:
        name: *junior-name
        problems: 5
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 5
      $rigid: [[.]]
    $style: {append: [/oral-postword]}

  team:
    $contest:
      name: *team-name
      leagues: *leagues
    junior:
      $contest$league:
        name: *junior-name
        problems: 10
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 10
      $rigid: [[.]]
    $style: {append: [/team-postword]}

  regatta:
    $regatta:
      name: *regatta-name
      leagues: *leagues
    junior:
      $regatta$league:
        name: *junior-name
        subjects: *regatta-subjects
        rounds: *regatta-rounds
      algbr: &2012-regatta-algbr
        $regatta$subject:
          name: *algbr-name
          index: 'a'
      geomt: &2012-regatta-geomt
        $regatta$subject:
          name: *geomt-name
          index: 'b'
      combi: &2012-regatta-combi
        $regatta$subject:
          name: *combi-name
          index: 'c'
      "1": &2012-regatta-1
        $regatta$round:
          name: *round-1-name
          index: '1'
          mark: 4
      "2": &2012-regatta-2
        $regatta$round:
          name: *round-2-name
          index: '2'
          mark: 5
      "3": &2012-regatta-3
        $regatta$round:
          name: *round-3-name
          index: '3'
          mark: 6
      "4": &2012-regatta-4
        $regatta$round:
          name: *round-4-name
          index: '4'
          mark: 5
    senior:
      $regatta$league:
        name: *senior-name
        subjects: *regatta-subjects
        rounds: *regatta-rounds
      algbr: *2012-regatta-algbr
      geomt: *2012-regatta-geomt
      combi: *2012-regatta-combi
      "1": *2012-regatta-1
      "2": *2012-regatta-2
      "3": *2012-regatta-3
      "4": *2012-regatta-4

# 2013 2013 2013 2013 2013 2013 2013 2013 2013 2013 2013 2013 2013 2013 2013
'2013':
  problems:
    $fluid: *tourn-fluid-problems
  complete:
    $fluid: *tourn-fluid-complete
  $delegate: *tourn-delegate
  $style: {append: [year]}

  pers-algbr:
    $contest:
      name: *algbr-name
      leagues: *leagues
    junior:
      $contest$league:
        name: *junior-name
        problems: 4
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 4
      $rigid: [[.]]
    $style: {append: [/written-postword]}

  pers-geomt:
    $contest:
      name: *geomt-name
      leagues: *leagues
    junior:
      $contest$league:
        name: *junior-name
        problems: 4
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 4
      $rigid: [[.]]
    $style: {append: [/written-postword]}

  pers-combi:
    $contest:
      name: *combi-name
      leagues: *leagues
    junior:
      $contest$league:
        name: *junior-name
        problems: 5
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 5
      $rigid: [[.]]
    $style: {append: [/oral-postword]}

  team:
    $contest:
      name: *team-name
      leagues: *leagues
    junior:
      $contest$league:
        name: *junior-name
        problems: 10
      $rigid: [[.]]
    senior:
      $contest$league:
        name: *senior-name
        problems: 10
      $rigid: [[.]]
    $style: {append: [/team-postword]}

  regatta:
    $regatta:
      name: *regatta-name
      leagues: *leagues
    junior:
      $regatta$league:
        name: *junior-name
        subjects: *regatta-subjects
        rounds: *regatta-rounds
      algbr: &2013-regatta-algbr
        $regatta$subject:
          name: *algbr-name
          index: 'a'
      geomt: &2013-regatta-geomt
        $regatta$subject:
          name: *geomt-name
          index: 'b'
      combi: &2013-regatta-combi
        $regatta$subject:
          name: *combi-name
          index: 'c'
      "1": &2013-regatta-1
        $regatta$round:
          name: *round-1-name
          index: '1'
          mark: 4
      "2": &2013-regatta-2
        $regatta$round:
          name: *round-2-name
          index: '2'
          mark: 5
      "3": &2013-regatta-3
        $regatta$round:
          name: *round-3-name
          index: '3'
          mark: 6
      "4": &2013-regatta-4
        $regatta$round:
          name: *round-4-name
          index: '4'
          mark: 5
    senior:
      $regatta$league:
        name: *senior-name
        subjects: *regatta-subjects
        rounds: *regatta-rounds
      algbr: *2013-regatta-algbr
      geomt: *2013-regatta-geomt
      combi: *2013-regatta-combi
      "1": *2013-regatta-1
      "2": *2013-regatta-2
      "3": *2013-regatta-3
      "4": *2013-regatta-4

