\problem
Хромые весы – это чашечные весы без гирь.
После того, как они второй раз покажут, что одна из чаш перевешивает, они
ломаются насовсем.
Из $N$ монет одна фальшивая, легче настоящих.
При каком наибольшем $N$ можно найти её за $k$ взвешиваний на хромых весах?
(Весы не жалко.)
\solution
Рассмотрим сначала задачу, когда весы ломаются с первого раза.
Тогда для $k$ взвешиваний есть $2 k + 1$ различных исходов
(весы сломаются на одном из $k$ взвешиваний и покажут один из двух результатов,
либо доживут до конца).
Значит, мы не сможем определить более чем $2 k + 1$ монет.
$2 k + 1$ монет определить можно, взвешивая $k$ раз $1$ и $1$.
\\
Далее, в исходной задаче есть $4 \frac{k (k - 1)}{2} + 2 k + 1$ различных
исходов (два неравновесия с результатом, либо одно неравновесие с
результатом, либо всегда равновесие).
Значит, больше $2 k^2 + 1$ монет определить не удастся.
Алгоритм для $2 k^2 + 1$ следующий: вешаем два по $2 k - 1$ монет;
либо мы получаем неравновесие и сводим задачу к уже рассмотренной с $k - 1$
оставшимися взвешиваниями;
либо получаем равновесие и сводим задачу к этой же с меньшим числом
$2 k^2 - 2 (2 k - 1) + 1 = 2 (k - 1)^2 + 1$ монет и $k - 1$ оставшимися
взвешиваниями.
%\emph{А.\,Шаповалов}
\endproblem
